/**
 * Leaderboard Component Styles
 * Uses element/attribute selectors per guidelines
 */

kt-leaderboard {
  display: flex;
  flex-direction: column;

  height: 100%;

  background-color: var(--color-background);
  border-radius: var(--radius-lg);

  overflow: hidden;

  /* Article layout: make article a column that fills the component */
  > article {
    display: flex;
    flex-direction: column;
    flex: 1;
    min-height: 0;
  }

  /* Header */
  > article > header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-md);

    padding: var(--space-md) var(--space-lg);

    background-color: var(--color-surface);
    border-bottom: 1px solid var(--color-border);

    h2 {
      margin: 0;
      font-size: var(--font-size-lg);
      font-weight: 600;
    }
  }

  /* Filter bar */
  > article > form[filter-bar] {
    padding: var(--space-md); /* reduced vertical spacing */

    input[data-filter] {
      width: 100%;
      padding: var(--space-sm);

      background-color: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      color: var(--color-text);

      font-family: inherit;
      font-size: var(--font-size-sm);

      &:focus {
        border-color: var(--color-primary);
        outline: none;
      }

      &::placeholder {
        color: var(--color-text-muted);
      }
    }
  }

  /* Content area */
  > article > section {
    flex: 1;
    padding: 0 var(--space-md) var(--space-md);
    overflow-y: auto;

    > ul {
      display: flex;
      flex-direction: column;
      gap: var(--space-sm);

      margin: 0;
      padding: 0;

      list-style: none;
    }
  }

  /* Leaderboard item */
  li[rank] {
    display: grid;
    grid-template-columns: auto 1fr auto;
    gap: var(--space-md);
    align-items: center;

    padding: var(--space-md);

    background-color: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);

    cursor: pointer;
    transition: background-color 0.15s, transform 0.15s;

    &:hover {
      background-color: var(--color-surface-hover);
    }

    &:active {
      transform: scale(0.98);
    }

    /* Top 3 indicator */
    &[rank="1"],
    &[rank="2"],
    &[rank="3"] {
      border-width: 2px;
    }

    /* Rank badge */
    > span:first-child {
      display: flex;
      align-items: center;
      justify-content: center;

      width: 3.2rem;
      height: 3.2rem;

      background-color: var(--color-surface-hover);
      border-radius: var(--radius-full);

      font-size: var(--font-size-sm);
      font-weight: 700;
    }

    &[rank="1"] > span:first-child {
      background: linear-gradient(135deg, #ffd700, #ffb300);
      color: #5d4200;
    }

    &[rank="2"] > span:first-child {
      background: linear-gradient(135deg, #e8e8e8, #c0c0c0);
      color: #4a4a4a;
    }

    &[rank="3"] > span:first-child {
      background: linear-gradient(135deg, #cd7f32, #a05a2c);
      color: white;
    }

    /* Name */
    > span:nth-child(2) {
      font-weight: 600;

      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    /* Stats */
    > div {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: var(--space-2xs);

      > span[rating] {
        display: flex;
        align-items: center;
        gap: var(--space-xs);

        > span:first-child {
          color: var(--color-warning);
          letter-spacing: 1px;
        }

        > span:last-child {
          font-size: var(--font-size-sm);
          font-weight: 600;
        }
      }

      > span[songs] {
        font-size: var(--font-size-xs);
        color: var(--color-text-muted);
      }
    }
  }

  /* Empty state */
  span[empty-state] {
    display: flex;
    align-items: center;
    justify-content: center;

    flex: 1;
    padding: var(--space-lg);

    color: var(--color-text-muted);
    font-size: var(--font-size-sm);
    text-align: center;
  }
}
